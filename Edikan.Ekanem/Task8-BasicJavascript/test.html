<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Fetch API</title>
  </head>
  <body style="text-align: center">
    <h1>Authors</h1>
    <div id="authors"></div>

    <script>
      const ul = document.getElementById("authors");
      const list = document.createDocumentFragment();
      const url = "https://jsonplaceholder.typicode.com/users";

      fetch(url)
        .then((response) => {
          return response.json();
        })
        .then((data) => {
          let authors = data;

          authors.map((author) => {
            let li = document.createElement("li");
            let name = document.createElement("h2");
            let username = document.createElement("p");
            let email = document.createElement("p");
            let address = document.createElement("p");
            let phone = document.createElement("p");
            let website = document.createElement("p");
            let company = document.createElement("p");

            name.innerHTML = `Name: ${author.name}`;
            username.innerHTML = `Username: ${author.username}`;
            email.innerHTML = `Email: ${author.email}`;
            address.innerHTML = `Address: ${
              author.address.street +
              " , " +
              author.address.suite +
              " , " +
              author.address.city +
              " , " +
              author.address.zipcode +
              " , " +
              author.address.geo.lat +
              " , " +
              author.address.geo.lng
            }`;
            phone.innerHTML = `Phone: ${author.phone}`;
            website.innerHTML = `Website: ${author.website}`;
            company.innerHTML = `Company: ${
              author.company.name +
              " , " +
              author.company.catchPhrase +
              " , " +
              author.company.bs
            }`;

            li.appendChild(name);
            li.appendChild(username);
            li.appendChild(email);
            li.appendChild(address);
            li.appendChild(phone);
            li.appendChild(website);
            li.appendChild(company);

            list.appendChild(li);
          });
          console.log(data);

          ul.appendChild(list);
        })
        .catch((error) => {
          console.log(`Error fetching: ${error}`);
        });
    </script>
  </body>
</html>
